# Mesh processing
This repo is to provide a series of algorithm to process mesh and point cloud files. \
It provides format transfer, mesh simplification, mesh rigid transform and annotation transform 

## Getting Started
Use the pip to install dependencies, you may use conda instead \
For PyTorch3D, please follow this link to install: https://github.com/facebookresearch/pytorch3d/blob/main/INSTALL.md

```bash
pip install numpy
pip install pandas
pip install pymeshlab
pip install open3d
```
## Usage
Create the corresponding folder before you run the script. \
For example, in [mesh simplification](./mesh_reduce.py), you need to create two folders: "mesh_data" and "output_mesh" \
Make sure the directories as below:

```bash
├── mesh_data
│   ├── 1_139.obj
│   ├── 1_141.obj
├── output_mesh
└── mesh_reduce.py
```
## Mesh simplification
[reduce the mesh to 10000 vertices](./mesh_reduce.py)

## Mesh format convert
[obj to pcd format](./obj_to_pcd.py) \
[obj to ply format](./obj_to_ply.py)

## Convert txt file into obj mesh
[txt to obj format](./txt_to_obj.py) \
[xyz to obj format](./xyz_to_obj.py)

## Mesh rigid transform
[mesh augmentation](./mesh_rigid_transform.py) \
[shrink and flatten function in Blender](./shrink_flatten.py)

## Mesh annotation operation
[output the annotation to simplified txt](./annotation_output.py) \
[add rgb value into ply file](./apply_color_to_ply.py)

This section transform obj file and corresponding txt annotation file into single ply file with color. \
Please make sure the directories as below:

```bash
├── annotation_output.py
├── apply_color_to_ply.py
├── input_annotated_txt
│   ├── 1_140.txt
│   └── 1_141.txt
├── input_obj
│   ├── 1_140.obj
│   └── 1_141.obj
├── output_txt
├── ply_with_color
└── ply_without_color
```

## Invisible spaces in .ply file
For each ply file generated, there maybe some spaces randomly generated by the library. It may cause the ply file cannot be read. \
To remove the spaces, please run [remove_space](./remove_space.txt) with terminal inside the folder.
